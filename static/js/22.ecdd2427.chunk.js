(this.webpackJsonpblog_admin=this.webpackJsonpblog_admin||[]).push([[22,21],{342:function(t,e,n){},433:function(t,e,n){"use strict";n.r(e);var a=n(58),r=n.n(a),o=n(90),c=n(59),i=n(66),s=n(0),u=n.n(s),l=n(299),f=function(t){var e=t.pieData;return Object(s.useEffect)((function(){console.log(e);var t=new l.a({container:"pieCanvas",autoFit:!0,height:500});t.coordinate("theta",{radius:.75}),t.data(e),t.scale("percent",{formatter:function(t){return t=100*t+"%"}}),t.tooltip({showTitle:!1,showMarkers:!1}),t.interval().position("percent").color("item").label("percent",{content:function(t){return"".concat(t.item,": ").concat(100*t.percent,"%")}}).adjust("stack"),t.interaction("element-active"),t.render()}),[e]),u.a.createElement("div",{id:"pieCanvas",style:{width:400,height:300}})},p=function(t){return Object(s.useEffect)((function(){var e=t.data,n=new l.a({container:"hg",autoFit:!0,height:500});n.data(e),n.scale("sales",{nice:!0}),n.tooltip({showMarkers:!1}),n.interaction("active-region"),n.interval().position("time*sales"),n.render()})),u.a.createElement("div",{id:"hg",style:{width:400,height:300}})},d=(n(342),n(63));e.default=function(){var t=Object(s.useState)([]),e=Object(i.a)(t,2),n=e[0],a=e[1],l=Object(s.useState)([]),h=Object(i.a)(l,2),v=h[0],m=h[1],g=new d.a,b=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("admin/getPieData").then((function(t){a(Object(o.a)(null===t||void 0===t?void 0:t.data))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.post("admin/getHistogram",{times:[["2020-1","2020-2"],["2020-2","2020-3"],["2020-3","2020-4"],["2020-4","2020-5"],["2020-5","2020-6"]]}).then((function(t){console.log(t),m(Object(o.a)(null===t||void 0===t?void 0:t.data))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){b(),w()}),[]),u.a.createElement("div",{className:"chart"},0!==n.length&&u.a.createElement(f,{pieData:n}),0!==v.length&&u.a.createElement(p,{data:v}))}},63:function(t,e,n){"use strict";var a=n(58),r=n.n(a),o=n(59),c=n(157),i=(n(96),n(99)),s=n(164),u=n.n(s).a.create({timeout:7e3,baseURL:"http://localhost:7000/"});u.interceptors.request.use((function(t){var e;return(null===(e=t.url)||void 0===e?void 0:e.indexOf("/admin/"))?t.headers.token=localStorage.getItem("token"):t.headers.token=localStorage.getItem("adminToken"),t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){return console.log(t),200===t.status?(t.data.status&&401===t.data.status&&(console.log(t.data.status),i.a.confirm({title:"\u767b\u5f55\u8fc7\u671f",content:"\u767b\u5f55\u8fc7\u671f\uff0c\u662f\u5426\u5237\u65b0\u9875\u9762\u5e76\u91cd\u65b0\u767b\u5f55\uff1f",onOk:function(){localStorage.removeItem("userInfo"),localStorage.removeItem("token"),window.location.reload()}})),Promise.resolve(t.data)):Promise.reject(t)}),(function(t){return Promise.reject(t)}));e.a=function t(){Object(c.a)(this,t),this.post=function(){var t=Object(o.a)(r.a.mark((function t(e,n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.post(e,n);case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),this.get=function(){var t=Object(o.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.get(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=22.ecdd2427.chunk.js.map