{"version":3,"sources":["route/compLodable.tsx","pages/admin/index.tsx"],"names":["loadingComponent","antIcon","style","fontSize","spin","indicator","loader","loading","Loadable","render","loaded","props","Component","default","Header","Sider","Content","Footer","withRouter","useState","collapsed","setCollapsed","location","pathname","defaultUrl","ArticleController","UserController","SystemData","CommentController","arrComp","url","name","comp","icon","useEffect","history","push","open","message","description","color","className","trigger","collapsible","theme","mode","defaultSelectedKeys","onClick","e","console","log","key","map","item","Item","to","padding","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","margin","minHeight","index","path","component","textAlign"],"mappings":"sKAKMA,EAAmB,WACrB,IAAMC,EAAU,kBAAC,IAAD,CAAiBC,MAAO,CAAEC,SAAU,IAAMC,MAAI,IAC9D,OACI,uBAAMC,UAAWJ,KAKV,aAACK,GAA6C,IAAhCC,EAA+B,uDAArBP,EACnC,OAAOQ,IAAS,CACZF,SACAG,OAFY,SAELC,EAAaC,GAChB,IAAMC,EAAYF,EAAOG,QACzB,OAAO,kBAACD,EAAcD,IAE1BJ,c,oOCLAO,E,IAAAA,OAAQC,E,IAAAA,MAAOC,E,IAAAA,QAASC,E,IAAAA,OAuHjBC,uBA9GD,SAACP,GAAgB,IAAD,EACQQ,oBAAS,GADjB,mBACnBC,EADmB,KACRC,EADQ,OAEUF,mBAEI,WAA5BR,EAAMW,SAASC,SACR,oBAEJZ,EAAMW,SAASC,UAPJ,mBAEnBC,EAFmB,KAYpBC,GAZoB,KAYAjB,aAAS,kBAAM,8EACnCkB,EAAiBlB,aAAS,kBAAM,6EAChCmB,EAAanB,aAAS,kBAAM,+DAC5BoB,EAAoBpB,aAAS,kBAAM,6EACnCqB,EAA2B,CAC7B,CACIC,IAAK,oBACLC,KAAM,2BACNC,KAAML,EACNM,KAAM,kBAAC,IAAD,OAEV,CACIH,IAAK,wBACLC,KAAM,2BACNC,KAAMN,EACNO,KAAM,kBAAC,IAAD,OAEV,CACIH,IAAK,2BACLC,KAAM,2BACNC,KAAMP,EACNQ,KAAM,kBAAC,IAAD,OAEV,CACIH,IAAK,2BACLC,KAAM,2BACNC,KAAMJ,EACNK,KAAM,kBAAC,IAAD,QAqBd,OAXAC,qBAAU,WAC0B,WAA5BvB,EAAMW,SAASC,UACfZ,EAAMwB,QAAQC,KAAK,qBAEvB,IAAaC,KAAK,CACdC,QAAS,sBACTC,YACI,qEACJN,KAAM,kBAAC,IAAD,CAAe/B,MAAO,CAAEsC,MAAO,iBAE1C,IAEC,yBAAKC,UAAU,QACX,2BACI,kBAAC1B,EAAD,CAAO2B,QAAS,KAAMC,aAAW,EAACvB,UAAWA,GACzC,yBAAKqB,UAAU,SACf,uBAAMG,MAAM,OAAOC,KAAK,SAASC,oBAAqB,CAACtB,GAAauB,QAnBjE,SAACC,GAChBC,QAAQC,IAAIF,EAAEG,OAqBMtB,EAAQuB,KAAI,SAACC,GACT,OAAO,sBAAMC,KAAN,CAAWH,IAAKE,EAAKvB,KACvBuB,EAAKpB,MACJb,GAAa,kBAAC,IAAD,CAAMmC,GAAIF,EAAKvB,KAAMuB,EAAKtB,YAQ7D,uBAAQU,UAAU,eACd,kBAAC3B,EAAD,CAAQ2B,UAAU,yBAAyBvC,MAAO,CAAEsD,QAAS,IACxDC,IAAMC,cAActC,EAAYuC,IAAqBC,IAAkB,CACpEnB,UAAW,UACXM,QAzCT,WACX1B,GAAcD,OA2CF,kBAACJ,EAAD,CACIyB,UAAU,yBACVvC,MAAO,CACH2D,OAAQ,YACRL,QAAS,GACTM,UAAW,MAMXjC,EAAQuB,KAAI,SAACC,EAAMU,GACf,OAAO,kBAAC,IAAD,CAAOC,KAAMX,EAAKvB,IAAKmC,UAAWZ,EAAKrB,KAAMmB,IAAKY,QAKrE,kBAAC9C,EAAD,CAAQf,MAAO,CAAEgE,UAAW,WAA5B","file":"static/js/23.3681fea7.chunk.js","sourcesContent":["import React from 'react';\r\nimport Loadable from 'react-loadable';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n//通用的过场组件\r\nconst loadingComponent = () => {\r\n    const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n    return (\r\n        <Spin indicator={antIcon} />\r\n    )\r\n}\r\n\r\n//过场组件默认采用通用的，若传入了loading，则采用传入的过场组件\r\nexport default (loader: any, loading = loadingComponent) => {\r\n    return Loadable({\r\n        loader,\r\n        render(loaded: any, props: any) {\r\n            const Component = loaded.default;\r\n            return <Component {...props} />\r\n        },\r\n        loading,\r\n    });\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Route, NavLink, Link, BrowserRouter, withRouter } from 'react-router-dom'\r\n\r\nimport { Layout, Menu, Switch, notification } from 'antd';\r\nimport {\r\n    MenuUnfoldOutlined,\r\n    MenuFoldOutlined,\r\n    UserOutlined,\r\n    PieChartOutlined,\r\n    SmileOutlined,\r\n    FileTextOutlined\r\n} from '@ant-design/icons';\r\nimport './admin.scss';\r\nimport Loadable from '../../route/compLodable';\r\nimport QueueAnim from 'rc-queue-anim';\r\nconst { Header, Sider, Content, Footer } = Layout;\r\n\r\ninterface ICompObj {\r\n    url: string,\r\n    name: string,\r\n    comp: any, //真心不知道这种第三方插件应该写什么类型，这应该就是我和大佬之间的差距吧 ;p\r\n    icon: any,\r\n}\r\n\r\nconst Admin = (props: any) => {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n    const [defaultUrl, setDefaultUrl] = useState((\r\n        function () {\r\n            if (props.location.pathname === '/admin') {\r\n                return '/admin/systemData'\r\n            }\r\n            return props.location.pathname\r\n        }\r\n    )()); //菜单栏随 输入的 url 变化而变化   *****\r\n\r\n\r\n    const ArticleController = Loadable(() => import('./components/article'))\r\n    const UserController = Loadable(() => import('./components/user'))\r\n    const SystemData = Loadable(() => import('./components/systemData'))\r\n    const CommentController = Loadable(() => import('./components/comments'))\r\n    const arrComp: Array<ICompObj> = [\r\n        {\r\n            url: '/admin/systemData',\r\n            name: '数据统计',\r\n            comp: SystemData,\r\n            icon: <PieChartOutlined />,\r\n        },\r\n        {\r\n            url: '/admin/userController',\r\n            name: '用户管理',\r\n            comp: UserController,\r\n            icon: <UserOutlined />,\r\n        },\r\n        {\r\n            url: '/admin/articleController',\r\n            name: '文章管理',\r\n            comp: ArticleController,\r\n            icon: <FileTextOutlined />,\r\n        },\r\n        {\r\n            url: '/admin/commentController',\r\n            name: '评论管理',\r\n            comp: CommentController,\r\n            icon: <FileTextOutlined />,\r\n        },\r\n    ]\r\n    const toggle = () => {\r\n        setCollapsed(!collapsed);\r\n    };\r\n\r\n    const changeMenu = (e: any) => {\r\n        console.log(e.key);\r\n    }\r\n    useEffect(() => {\r\n        if (props.location.pathname === '/admin') {\r\n            props.history.push('/admin/systemData')\r\n        }\r\n        notification.open({\r\n            message: 'Welcome Back, Admin',\r\n            description:\r\n                '欢迎回来！最近怎么样？',\r\n            icon: <SmileOutlined style={{ color: '#108ee9' }} />,\r\n        });\r\n    }, [])\r\n    return (\r\n        <div className='main'>\r\n            <Layout>\r\n                <Sider trigger={null} collapsible collapsed={collapsed}>\r\n                    <div className=\"logo\" />\r\n                    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[defaultUrl]} onClick={changeMenu}>\r\n                        {/* <QueueAnim delay={300} className=\"queue-simple\"> */}\r\n                        {\r\n                            arrComp.map((item) => {\r\n                                return <Menu.Item key={item.url}>\r\n                                    {item.icon}\r\n                                    {!collapsed && <Link to={item.url}>{item.name}</Link>}\r\n                                </Menu.Item>\r\n                            })\r\n                        }\r\n                        {/* </QueueAnim> */}\r\n\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n                        {React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n                            className: 'trigger',\r\n                            onClick: toggle,\r\n                        })}\r\n                    </Header>\r\n                    <Content\r\n                        className=\"site-layout-background\"\r\n                        style={{\r\n                            margin: '24px 16px',\r\n                            padding: 24,\r\n                            minHeight: 280,\r\n                        }}\r\n                    >\r\n\r\n                        {/* <Route path='/admin' component={Chart} /> */}\r\n                        {\r\n                            arrComp.map((item, index) => {\r\n                                return <Route path={item.url} component={item.comp} key={index} />\r\n                            })\r\n                        }\r\n\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>playmate.com</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default withRouter(Admin);"],"sourceRoot":""}